
services:
 booksyapp:
  
  image: mercy/booksyapp:1.0.0
  build: .
  ports:
   - "8890:8000"
  env_file: 
   - .env
  depends_on:
   - db 
  volumes:
      - ./:/var/www/html

 db:
  image: postgres:12
  ports:
   - "5544:5432"
  environment:
   POSTGRES_USER: shiftechafrica
   POSTGRES_PASSWORD: 12345678
   POSTGRES_DB: booksy_crud
  volumes: 
   - pgdata:/var/lib/postgresql/data
  
 pgadmin:
  image: dpage/pgadmin4
  ports:
    - "5055:80"
  environment:
    PGADMIN_DEFAULT_EMAIL: ${PGADMIN_DEFAULT_EMAIL}
    PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_DEFAULT_PASSWORD}
  depends_on:
    - db

volumes:
 pgdata: {} 